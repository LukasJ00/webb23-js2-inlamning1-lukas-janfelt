{"version":3,"sources":["main.js"],"names":["playerName","playerScore","console","error","url","fetch","method","headers","body","JSON","stringify","response","status","log","loadHighscore","updateHighscore","json","highscore","displayHighscore","computerScore","playerNameInput","document","getElementById","rockButton","scissorsButton","paperButton","playerScoreDisplay","computerWins","choicesDisplay","addEventListener","event","target","value","preventDefault","playGame","determineWinner","playerChoice","computerChoice","choices","Math","floor","random","length","innerText","winner","showWinner","highscoreUpdateThreshold","winnerName","setTimeout","resetGame","highscoreArray","highscoreListContainer","innerHTML","forEach","index","playerRank","listItem","createElement","appendChild","noHighscoreItem"],"mappings":"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","file":"main.72f7f51f.map","sourceRoot":"..\\src\\modules","sourcesContent":["// Grundl칛ggande variabler vid omstart\r\nlet playerScore = 0;\r\nlet computerScore = 0;\r\nlet playerName = \"\";\r\n\r\n// H칛mta alla HTML-element\r\nconst playerNameInput = document.getElementById(\"player-name\");\r\nconst rockButton = document.getElementById(\"rockBtn\");\r\nconst scissorsButton = document.getElementById(\"scissorsBtn\");\r\nconst paperButton = document.getElementById(\"paperBtn\");\r\nconst playerScoreDisplay = document.getElementById(\"playerScore\");\r\nconst computerWins = document.getElementById(\"computerWins\");\r\nconst choicesDisplay = document.getElementById(\"choices\"); // Elementet f칬r att visa valen\r\n\r\n// Hantera namninput\r\nplayerNameInput.addEventListener(\"input\", (event) => {\r\n  playerName = event.target.value;\r\n});\r\n\r\n// Hantera knappklick\r\nrockButton.addEventListener(\"click\", (event) => {\r\n  event.preventDefault();\r\n  playGame(\"sten\");\r\n});\r\nscissorsButton.addEventListener(\"click\", (event) => {\r\n  event.preventDefault();\r\n  playGame(\"sax\");\r\n});\r\npaperButton.addEventListener(\"click\", (event) => {\r\n  event.preventDefault();\r\n  playGame(\"p친se\");\r\n});\r\n\r\n// Funktion f칬r att avg칬ra vinnaren\r\nfunction determineWinner(playerChoice, computerChoice) {\r\n  if (\r\n    (playerChoice === \"sten\" && computerChoice === \"sax\") ||\r\n    (playerChoice === \"sax\" && computerChoice === \"p친se\") ||\r\n    (playerChoice === \"p친se\" && computerChoice === \"sten\")\r\n  ) {\r\n    return \"player\";\r\n  } else if (\r\n    (playerChoice === \"sax\" && computerChoice === \"sten\") ||\r\n    (playerChoice === \"p친se\" && computerChoice === \"sax\") ||\r\n    (playerChoice === \"sten\" && computerChoice === \"p친se\")\r\n  ) {\r\n    return \"computer\";\r\n  } else {\r\n    return \"tie\";\r\n  }\r\n}\r\n\r\n// Funktion f칬r att spela spelet\r\nfunction playGame(playerChoice) {\r\n  const choices = [\"sten\", \"sax\", \"p친se\"];\r\n  const computerChoice = choices[Math.floor(Math.random() * choices.length)];\r\n\r\n  // Visa spelarens och datorns val\r\n  choicesDisplay.innerText = `${playerName}: ${playerChoice} | Dator: ${computerChoice}`;\r\n\r\n  // Avg칬r vinnaren\r\n  const winner = determineWinner(playerChoice, computerChoice);\r\n  if (winner === \"player\") {\r\n    playerScore++;\r\n  } else if (winner === \"computer\") {\r\n    computerScore++;\r\n  }\r\n\r\n  // Visa po칛ngen\r\n  playerScoreDisplay.innerText = `${playerName} po칛ng: ${playerScore}`;\r\n\r\n  // Kolla om datorn vann\r\n  if (computerScore >= 1) {\r\n    showWinner(\"Dator\");\r\n  }\r\n\r\n  // Kolla om spelaren har en h칬g po칛ng och b칬r uppdatera highscore-listan\r\n  const highscoreUpdateThreshold = 5; // Justera tr칬skelv칛rdet efter dina preferenser\r\n  if (playerScore > highscoreUpdateThreshold) {\r\n    // Kontrollera att playerName och playerScore har v칛rden innan du anropar updateHighscore\r\n    if (playerName && playerScore) {\r\n      updateHighscore(playerName, playerScore);\r\n    } else {\r\n      console.error(\"Ogiltigt namn eller po칛ngv칛rde\");\r\n    }\r\n  }\r\n}\r\n\r\n// Funktion f칬r att visa vinnaren och starta om spelet efter 3 sekunder\r\nfunction showWinner(winnerName) {\r\n  computerWins.innerText = `${winnerName} vann 游땩 f칬rs칬k igen`;\r\n\r\n  // 칀terst칛ll spelet efter 3 sekunder\r\n  setTimeout(() => {\r\n    resetGame();\r\n  }, 3000); // 3000 millisekunder = 3 sekunder\r\n}\r\n\r\n// Funktion f칬r att 친terst칛lla spelet\r\nfunction resetGame() {\r\n  playerScore = 0;\r\n  computerScore = 0;\r\n  computerWins.innerText = \"\";\r\n  playerScoreDisplay.innerText = `${playerName} po칛ng: ${playerScore}`;\r\n  choicesDisplay.innerText = \"\";\r\n}\r\n\r\nasync function updateHighscore(playerName, playerScore) {\r\n  if (!playerName || !playerScore) {\r\n    console.error(\"Ogiltigt namn eller po칛ngv칛rde\");\r\n    return;\r\n  }\r\n\r\n  const url = 'http://localhost:4000/highscore';\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ playerName, playerScore }),\r\n    });\r\n\r\n    if (response.status === 200) {\r\n      console.log('Highscore uppdaterad');\r\n      // Ladda om highscore-listan efter att den har uppdaterats\r\n      loadHighscore();\r\n    } else {\r\n      console.error('N친got gick fel n칛r highscore skulle uppdateras. Statuskod:', response.status);\r\n    }\r\n  } catch (error) {\r\n    console.error('N친got gick fel:', error);\r\n  }\r\n}\r\n\r\n// Funktion f칬r att ladda in highscore-listan n칛r sidan laddas\r\nasync function loadHighscore() {\r\n  const url = 'http://localhost:4000/highscore';\r\n\r\n  try {\r\n    const response = await fetch(url);\r\n    const highscore = await response.json();\r\n\r\n    displayHighscore(highscore);\r\n  } catch (error) {\r\n    console.error('N친got gick fel:', error);\r\n  }\r\n}\r\n\r\n// Funktion f칬r att visa highscore-listan i HTML\r\nfunction displayHighscore(highscoreArray) {\r\n  const highscoreListContainer = document.getElementById(\"highscore-list\");\r\n  highscoreListContainer.innerHTML = \"\";\r\n\r\n  if (highscoreArray && highscoreArray.length > 0) {\r\n    highscoreArray.forEach((highscore, index) => {\r\n      const { playerRank, playerName, playerScore } = highscore;\r\n\r\n      const listItem = document.createElement(\"li\");\r\n      listItem.innerText = `${playerRank}. ${playerName}: ${playerScore}`;\r\n      highscoreListContainer.appendChild(listItem);\r\n    });\r\n  } else {\r\n    const noHighscoreItem = document.createElement(\"li\");\r\n    noHighscoreItem.innerText = \"Ingen highscore tillg칛nglig.\";\r\n    highscoreListContainer.appendChild(noHighscoreItem);\r\n  }\r\n}\r\n\r\n// Ladda in highscore-listan n칛r sidan laddas\r\nloadHighscore();\r\nupdateHighscore(playerName, playerScore);\r\nconsole.log('playerName:', playerName);\r\nconsole.log('playerScore:', playerScore);"]}