{"version":3,"sources":["main.js"],"names":["playerName","playerScore","url","fetch","response","json","highscore","push","sort","a","b","slice","method","headers","body","JSON","stringify","updateResponse","status","console","log","loadHighscore","error","updateHighscore","displayHighscore","computerScore","playerNameInput","document","getElementById","rockButton","scissorsButton","paperButton","playerScoreDisplay","computerWins","choicesDisplay","addEventListener","event","target","value","preventDefault","playGame","determineWinner","playerChoice","computerChoice","choices","Math","floor","random","length","innerText","winner","showWinner","highscoreUpdateThreshold","winnerName","setTimeout","resetGame","highscoreArray","highscoreListContainer","innerHTML","forEach","index","playerRank","listItem","createElement","appendChild","noHighscoreItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;;qEACA,iBAA+BA,UAA/B,EAA2CC,WAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,eADR,GACc,iCADd;AAAA;AAAA;AAAA,mBAI2BC,MAAMD,GAAN,CAJ3B;;AAAA;AAIUE,oBAJV;AAAA;AAAA,mBAK0BA,SAASC,IAAT,EAL1B;;AAAA;AAKQC,qBALR;;;AAOI;AACAA,sBAAUC,IAAV,CAAe,EAAEP,sBAAF,EAAcC,wBAAd,EAAf;;AAEA;AACAK,sBAAUE,IAAV,CAAe,UAACC,CAAD,EAAIC,CAAJ;AAAA,qBAAUA,EAAET,WAAF,GAAgBQ,EAAER,WAA5B;AAAA,aAAf;;AAEA;AACAK,wBAAYA,UAAUK,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,CAAZ;;AAEA;AAhBJ;AAAA,mBAiBiCR,MAAMD,GAAN,EAAW;AACtCU,sBAAQ,MAD8B;AAEtCC,uBAAS;AACP,gCAAgB;AADT,eAF6B;AAKtCC,oBAAMC,KAAKC,SAAL,CAAeV,SAAf;AALgC,aAAX,CAjBjC;;AAAA;AAiBUW,0BAjBV;;;AAyBI,gBAAIA,eAAeC,MAAf,KAA0B,GAA9B,EAAmC;AACjCC,sBAAQC,GAAR,CAAY,sBAAZ;AACA;AACAC;AACD,aAJD,MAIO;AACLF,sBAAQG,KAAR,CAAc,gDAAd;AACD;AA/BL;AAAA;;AAAA;AAAA;AAAA;;AAiCIH,oBAAQG,KAAR,CAAc,iBAAd;;AAjCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;kBAAeC;;;;;AAqCf;;;;sEACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACQrB,eADR,GACc,iCADd;AAAA;AAAA;AAAA,mBAI2BC,MAAMD,GAAN,CAJ3B;;AAAA;AAIUE,oBAJV;AAAA;AAAA,mBAK4BA,SAASC,IAAT,EAL5B;;AAAA;AAKUC,qBALV;;;AAOIkB,6BAAiBlB,SAAjB;AAPJ;AAAA;;AAAA;AAAA;AAAA;;AASIa,oBAAQG,KAAR,CAAc,iBAAd;;AATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;kBAAeD;;;;;AAaf;;;;;AA1JA;AACA,IAAIpB,cAAc,CAAlB;AACA,IAAIwB,gBAAgB,CAApB;AACA,IAAIzB,aAAa,EAAjB;;AAEA;AACA,IAAM0B,kBAAkBC,SAASC,cAAT,CAAwB,aAAxB,CAAxB;AACA,IAAMC,aAAaF,SAASC,cAAT,CAAwB,SAAxB,CAAnB;AACA,IAAME,iBAAiBH,SAASC,cAAT,CAAwB,aAAxB,CAAvB;AACA,IAAMG,cAAcJ,SAASC,cAAT,CAAwB,UAAxB,CAApB;AACA,IAAMI,qBAAqBL,SAASC,cAAT,CAAwB,aAAxB,CAA3B;AACA,IAAMK,eAAeN,SAASC,cAAT,CAAwB,cAAxB,CAArB;AACA,IAAMM,iBAAiBP,SAASC,cAAT,CAAwB,SAAxB,CAAvB,EAA2D;;AAE3D;AACAF,gBAAgBS,gBAAhB,CAAiC,OAAjC,EAA0C,UAACC,KAAD,EAAW;AACnDpC,eAAaoC,MAAMC,MAAN,CAAaC,KAA1B;AACD,CAFD;;AAIA;AACAT,WAAWM,gBAAX,CAA4B,OAA5B,EAAqC,UAACC,KAAD,EAAW;AAC9CA,QAAMG,cAAN;AACAC,WAAS,MAAT;AACD,CAHD;AAIAV,eAAeK,gBAAf,CAAgC,OAAhC,EAAyC,UAACC,KAAD,EAAW;AAClDA,QAAMG,cAAN;AACAC,WAAS,KAAT;AACD,CAHD;AAIAT,YAAYI,gBAAZ,CAA6B,OAA7B,EAAsC,UAACC,KAAD,EAAW;AAC/CA,QAAMG,cAAN;AACAC,WAAS,MAAT;AACD,CAHD;;AAKA;AACA,SAASC,eAAT,CAAyBC,YAAzB,EAAuCC,cAAvC,EAAuD;AACrD,MACGD,iBAAiB,MAAjB,IAA2BC,mBAAmB,KAA/C,IACCD,iBAAiB,KAAjB,IAA0BC,mBAAmB,MAD9C,IAECD,iBAAiB,MAAjB,IAA2BC,mBAAmB,MAHjD,EAIE;AACA,WAAO,QAAP;AACD,GAND,MAMO,IACJD,iBAAiB,KAAjB,IAA0BC,mBAAmB,MAA9C,IACCD,iBAAiB,MAAjB,IAA2BC,mBAAmB,KAD/C,IAECD,iBAAiB,MAAjB,IAA2BC,mBAAmB,MAH1C,EAIL;AACA,WAAO,UAAP;AACD,GANM,MAMA;AACL,WAAO,KAAP;AACD;AACF;;AAED;AACA,SAASH,QAAT,CAAkBE,YAAlB,EAAgC;AAC9B,MAAME,UAAU,CAAC,MAAD,EAAS,KAAT,EAAgB,MAAhB,CAAhB;AACA,MAAMD,iBAAiBC,QAAQC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgBH,QAAQI,MAAnC,CAAR,CAAvB;;AAEA;AACAd,iBAAee,SAAf,GAA8BjD,UAA9B,UAA6C0C,YAA7C,kBAAsEC,cAAtE;;AAEA;AACA,MAAMO,SAAST,gBAAgBC,YAAhB,EAA8BC,cAA9B,CAAf;AACA,MAAIO,WAAW,QAAf,EAAyB;AACvBjD;AACD,GAFD,MAEO,IAAIiD,WAAW,UAAf,EAA2B;AAChCzB;AACD;;AAED;AACAO,qBAAmBiB,SAAnB,GAAkCjD,UAAlC,mBAAuDC,WAAvD;;AAEA;AACA,MAAIwB,iBAAiB,CAArB,EAAwB;AACtB0B,eAAW,OAAX;AACD;;AAED;AACA,MAAMC,2BAA2B,CAAjC,CAxB8B,CAwBM;AACpC,MAAInD,cAAcmD,wBAAlB,EAA4C;AAC1C7B,oBAAgBvB,UAAhB,EAA4BC,WAA5B;AACD;AACF;;AAED;AACA,SAASkD,UAAT,CAAoBE,UAApB,EAAgC;AAC9BpB,eAAagB,SAAb,GAA4BI,UAA5B;;AAEA;AACAC,aAAW,YAAM;AACfC;AACD,GAFD,EAEG,IAFH,EAJ8B,CAMpB;AACX;;AAED;AACA,SAASA,SAAT,GAAqB;AACnBtD,gBAAc,CAAd;AACAwB,kBAAgB,CAAhB;AACAQ,eAAagB,SAAb,GAAyB,EAAzB;AACAjB,qBAAmBiB,SAAnB,GAAkCjD,UAAlC,mBAAuDC,WAAvD;AACAiC,iBAAee,SAAf,GAA2B,EAA3B;AACD,CAuDD,SAASzB,gBAAT,CAA0BgC,cAA1B,EAA0C;AACxC,MAAMC,yBAAyB9B,SAASC,cAAT,CAAwB,gBAAxB,CAA/B;AACA6B,yBAAuBC,SAAvB,GAAmC,EAAnC;;AAEA,MAAIF,kBAAkBA,eAAeR,MAAf,GAAwB,CAA9C,EAAiD;AAC/CQ,mBAAeG,OAAf,CAAuB,UAACrD,SAAD,EAAYsD,KAAZ,EAAsB;AAAA,UACnCC,UADmC,GACKvD,SADL,CACnCuD,UADmC;AAAA,UACvB7D,UADuB,GACKM,SADL,CACvBN,UADuB;AAAA,UACXC,WADW,GACKK,SADL,CACXL,WADW;;;AAG3C,UAAM6D,WAAWnC,SAASoC,aAAT,CAAuB,IAAvB,CAAjB;AACAD,eAASb,SAAT,GAAwBY,UAAxB,UAAuC7D,UAAvC,UAAsDC,WAAtD;AACAwD,6BAAuBO,WAAvB,CAAmCF,QAAnC;AACD,KAND;AAOD,GARD,MAQO;AACL,QAAMG,kBAAkBtC,SAASoC,aAAT,CAAuB,IAAvB,CAAxB;AACAE,oBAAgBhB,SAAhB,GAA4B,8BAA5B;AACAQ,2BAAuBO,WAAvB,CAAmCC,eAAnC;AACD;AACF;;AAED;AACA5C","file":"main.72f7f51f.map","sourceRoot":"..\\src\\modules","sourcesContent":["// Grundl칛ggande variabler vid omstart\r\nlet playerScore = 0;\r\nlet computerScore = 0;\r\nlet playerName = \"\";\r\n\r\n// H칛mta alla HTML-element\r\nconst playerNameInput = document.getElementById(\"player-name\");\r\nconst rockButton = document.getElementById(\"rockBtn\");\r\nconst scissorsButton = document.getElementById(\"scissorsBtn\");\r\nconst paperButton = document.getElementById(\"paperBtn\");\r\nconst playerScoreDisplay = document.getElementById(\"playerScore\");\r\nconst computerWins = document.getElementById(\"computerWins\");\r\nconst choicesDisplay = document.getElementById(\"choices\"); // Elementet f칬r att visa valen\r\n\r\n// Hantera namninput\r\nplayerNameInput.addEventListener(\"input\", (event) => {\r\n  playerName = event.target.value;\r\n});\r\n\r\n// Hantera knappklick\r\nrockButton.addEventListener(\"click\", (event) => {\r\n  event.preventDefault();\r\n  playGame(\"sten\");\r\n});\r\nscissorsButton.addEventListener(\"click\", (event) => {\r\n  event.preventDefault();\r\n  playGame(\"sax\");\r\n});\r\npaperButton.addEventListener(\"click\", (event) => {\r\n  event.preventDefault();\r\n  playGame(\"p친se\");\r\n});\r\n\r\n// Funktion f칬r att avg칬ra vinnaren\r\nfunction determineWinner(playerChoice, computerChoice) {\r\n  if (\r\n    (playerChoice === \"sten\" && computerChoice === \"sax\") ||\r\n    (playerChoice === \"sax\" && computerChoice === \"p친se\") ||\r\n    (playerChoice === \"p친se\" && computerChoice === \"sten\")\r\n  ) {\r\n    return \"player\";\r\n  } else if (\r\n    (playerChoice === \"sax\" && computerChoice === \"sten\") ||\r\n    (playerChoice === \"p친se\" && computerChoice === \"sax\") ||\r\n    (playerChoice === \"sten\" && computerChoice === \"p친se\")\r\n  ) {\r\n    return \"computer\";\r\n  } else {\r\n    return \"tie\";\r\n  }\r\n}\r\n\r\n// Funktion f칬r att spela spelet\r\nfunction playGame(playerChoice) {\r\n  const choices = [\"sten\", \"sax\", \"p친se\"];\r\n  const computerChoice = choices[Math.floor(Math.random() * choices.length)];\r\n\r\n  // Visa spelarens och datorns val\r\n  choicesDisplay.innerText = `${playerName}: ${playerChoice} | Dator: ${computerChoice}`;\r\n\r\n  // Avg칬r vinnaren\r\n  const winner = determineWinner(playerChoice, computerChoice);\r\n  if (winner === \"player\") {\r\n    playerScore++;\r\n  } else if (winner === \"computer\") {\r\n    computerScore++;\r\n  }\r\n\r\n  // Visa po칛ngen\r\n  playerScoreDisplay.innerText = `${playerName} po칛ng: ${playerScore}`;\r\n\r\n  // Kolla om datorn vann\r\n  if (computerScore >= 1) {\r\n    showWinner(\"Dator\");\r\n  }\r\n\r\n  // Kolla om spelaren har en h칬g po칛ng och b칬r uppdatera highscore-listan\r\n  const highscoreUpdateThreshold = 5; // Justera tr칬skelv칛rdet efter dina preferenser\r\n  if (playerScore > highscoreUpdateThreshold) {\r\n    updateHighscore(playerName, playerScore);\r\n  }\r\n}\r\n\r\n// Funktion f칬r att visa vinnaren och starta om spelet efter 3 sekunder\r\nfunction showWinner(winnerName) {\r\n  computerWins.innerText = `${winnerName} vann 游땩 f칬rs칬k igen`;\r\n\r\n  // 칀terst칛ll spelet efter 3 sekunder\r\n  setTimeout(() => {\r\n    resetGame();\r\n  }, 3000); // 3000 millisekunder = 3 sekunder\r\n}\r\n\r\n// Funktion f칬r att 친terst칛lla spelet\r\nfunction resetGame() {\r\n  playerScore = 0;\r\n  computerScore = 0;\r\n  computerWins.innerText = \"\";\r\n  playerScoreDisplay.innerText = `${playerName} po칛ng: ${playerScore}`;\r\n  choicesDisplay.innerText = \"\";\r\n}\r\n\r\n// Funktion f칬r att uppdatera highscore-listan\r\nasync function updateHighscore(playerName, playerScore) {\r\n  const url = 'http://localhost:4000/highscore';\r\n\r\n  try {\r\n    const response = await fetch(url);\r\n    let highscore = await response.json();\r\n\r\n    // L칛gg till den nya po칛ngen i highscore-listan\r\n    highscore.push({ playerName, playerScore });\r\n\r\n    // Sortera highscore-listan i fallande ordning baserat p친 po칛ngen\r\n    highscore.sort((a, b) => b.playerScore - a.playerScore);\r\n\r\n    // Begr칛nsa listan till de h칬gsta 5 po칛ngen\r\n    highscore = highscore.slice(0, 5);\r\n\r\n    // Spara den uppdaterade highscore-listan tillbaka p친 servern\r\n    const updateResponse = await fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(highscore),\r\n    });\r\n\r\n    if (updateResponse.status === 200) {\r\n      console.log('Highscore uppdaterad');\r\n      // Ladda om highscore-listan efter att den har uppdaterats\r\n      loadHighscore();\r\n    } else {\r\n      console.error('N친got gick fel n칛r highscore skulle uppdateras');\r\n    }\r\n  } catch (error) {\r\n    console.error('N친got gick fel:', error);\r\n  }\r\n}\r\n\r\n// Funktion f칬r att ladda in highscore-listan n칛r sidan laddas\r\nasync function loadHighscore() {\r\n  const url = 'http://localhost:4000/highscore';\r\n\r\n  try {\r\n    const response = await fetch(url);\r\n    const highscore = await response.json();\r\n\r\n    displayHighscore(highscore);\r\n  } catch (error) {\r\n    console.error('N친got gick fel:', error);\r\n  }\r\n}\r\n\r\n// Funktion f칬r att visa highscore-listan i HTML\r\nfunction displayHighscore(highscoreArray) {\r\n  const highscoreListContainer = document.getElementById(\"highscore-list\");\r\n  highscoreListContainer.innerHTML = \"\";\r\n\r\n  if (highscoreArray && highscoreArray.length > 0) {\r\n    highscoreArray.forEach((highscore, index) => {\r\n      const { playerRank, playerName, playerScore } = highscore;\r\n\r\n      const listItem = document.createElement(\"li\");\r\n      listItem.innerText = `${playerRank}. ${playerName}: ${playerScore}`;\r\n      highscoreListContainer.appendChild(listItem);\r\n    });\r\n  } else {\r\n    const noHighscoreItem = document.createElement(\"li\");\r\n    noHighscoreItem.innerText = \"Ingen highscore tillg칛nglig.\";\r\n    highscoreListContainer.appendChild(noHighscoreItem);\r\n  }\r\n}\r\n\r\n// Ladda in highscore-listan n칛r sidan laddas\r\nloadHighscore();"]}